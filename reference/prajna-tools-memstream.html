<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>MemStream - Prajna</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content=""/>
    <meta name="author" content="Cloud Computing & Storage Group, Microsoft Research"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Prajna/content/style.css" />
    <script type="text/javascript" src="/Prajna/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/MSRCCS/Prajna">Prajna</a></li>
          <li><a href="http://github.com/MSRCCS/Prajna">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Prajna/index.html">Prajna</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          



<h1>MemStream</h1>
<div class="xmldoc">
<p>MemStream is similar to MemoryStream and provide a number of function to ease the read and write object
This class is used if you need to implement customized serializer and deserializer.</p>
</div>
  <h3>Constructors</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Constructor</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '975', 975)" onmouseover="showTip(event, '975', 975)">
            new(ms, offset)
          </code>
          <div class="tip" id="975">
            <strong>Signature:</strong> (ms:MemStream * offset:int64) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L338-338" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new instance of the MemStream class based on a prior instance of MemStream, with initial position to be set at offset. The resultant MemStream is not writable.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '976', 976)" onmouseover="showTip(event, '976', 976)">
            new(ms)
          </code>
          <div class="tip" id="976">
            <strong>Signature:</strong> ms:MemStream -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L333-333" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new instance of the MemStream class based on a prior instance of MemStream. The resultant MemStream is not writable.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '977', 977)" onmouseover="showTip(event, '977', 977)">
            new(...)
          </code>
          <div class="tip" id="977">
            <strong>Signature:</strong> (buffer:byte [] * index:int * count:int * writable:bool * publiclyVisible:bool) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L329-329" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new instance of the MemStream class based on the specified region of a byte array, with the CanWrite property set as specified, and the ability to call GetBuffer set as specified.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '978', 978)" onmouseover="showTip(event, '978', 978)">
            new(buffer, index, count, writable)
          </code>
          <div class="tip" id="978">
            <strong>Signature:</strong> (buffer:byte [] * index:int * count:int * writable:bool) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L320-320" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new non-resizable instance of the MemStream class based on the specified region of a byte array, with the CanWrite property set as specified.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '979', 979)" onmouseover="showTip(event, '979', 979)">
            new(buffer, index, count)
          </code>
          <div class="tip" id="979">
            <strong>Signature:</strong> (buffer:byte [] * index:int * count:int) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L312-312" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new non-resizable instance of the MemStream class based on the specified region (index) of a byte array.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '980', 980)" onmouseover="showTip(event, '980', 980)">
            new(buf, writable)
          </code>
          <div class="tip" id="980">
            <strong>Signature:</strong> (buf:byte [] * writable:bool) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L305-305" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new non-resizable instance of the MemStream class based on the specified byte array with the CanWrite property set as specified.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '981', 981)" onmouseover="showTip(event, '981', 981)">
            new(buf)
          </code>
          <div class="tip" id="981">
            <strong>Signature:</strong> (buf:byte []) -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L299-299" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new non-resizable instance of the MemoryStream class that is not writable, and can use GetBuffer to access the underlyingbyte array.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '982', 982)" onmouseover="showTip(event, '982', 982)">
            new(size)
          </code>
          <div class="tip" id="982">
            <strong>Signature:</strong> size:int -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L297-297" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new instance of the MemStream class with an expandable capacity initialized as specified.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '983', 983)" onmouseover="showTip(event, '983', 983)">
            new()
          </code>
          <div class="tip" id="983">
            <strong>Signature:</strong> unit -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L295-295" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Initializes a new instance of the MemStream class with an expandable capacity initialized to zero.</p>

        </td>
      </tr>
    </tbody>
  </table>
  <h3>Instance members</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Instance member</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '984', 984)" onmouseover="showTip(event, '984', 984)">
            CustomizableDeserializeToTypeName(...)
          </code>
          <div class="tip" id="984">
            <strong>Signature:</strong> fullname:string -&gt; Object<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L750-750" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Deserialize a particular object from bytestream, allow use of customizable serializer if installed. 
A Guid is first read from bytestream, if it is a specific reserved NullObjectGuid, return object is null. 
If the GUID is DefaultSerializerGuid, BinaryFormatter is used to deserialize the object. 
For other GUID, installed customized deserailizer is used to deserialize the object.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '985', 985)" onmouseover="showTip(event, '985', 985)">
            CustomizableSerializeFromTypeName(...)
          </code>
          <div class="tip" id="985">
            <strong>Signature:</strong> (obj:Object * fullname:string) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L710-710" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Serialize a particular object to bytestream, allow use of customizable serializer if installed. 
If obj is null, it is serialized to a specific reserved NullObjectGuid for null. 
If obj is not null, and no customized serailizer is installed, the bytestream is written as DefaultSerializerGuid + BinaryFormatter() serialized bytestream. 
If obj is not null, and a customized serailizer is installed, the bytestream is written as GUID_SERIALIZER + content.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '986', 986)" onmouseover="showTip(event, '986', 986)">
            DeserializeObjectWithTypeName()
          </code>
          <div class="tip" id="986">
            <strong>Signature:</strong> unit -&gt; Object<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L782-782" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Deserialize a particular object from bytestream, allow use of customizable serializer if one is installed.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '987', 987)" onmouseover="showTip(event, '987', 987)">
            DeserializeTo()
          </code>
          <div class="tip" id="987">
            <strong>Signature:</strong> unit -&gt; &#39;U<br />
                          <strong>Type parameters:</strong> 'U          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L790-790" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>x.BinaryFormatterSerializeFromTypeName( obj, typeof<'U>.FullName )
Deserialize a particular object from bytestream, allow use of customizable serializer if one is installed.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '988', 988)" onmouseover="showTip(event, '988', 988)">
            GetBufferPosLength()
          </code>
          <div class="tip" id="988">
            <strong>Signature:</strong> unit -&gt; byte [] * int * int<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L359-359" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Return the buffer, position, count as a tuple that captures the state of the current MemStream. 
buffer: bytearray of the underlying bytestream. 
position: the current position if need to write out the bytestream. 
count: number of bytes if need to write out the bytestream.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '989', 989)" onmouseover="showTip(event, '989', 989)">
            InsertBefore(mem2)
          </code>
          <div class="tip" id="989">
            <strong>Signature:</strong> mem2:MemStream -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L347-347" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Insert a second MemStream before the current MemStream, and return the resultant MemStream</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '990', 990)" onmouseover="showTip(event, '990', 990)">
            PeekIfNull()
          </code>
          <div class="tip" id="990">
            <strong>Signature:</strong> unit -&gt; bool<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L731-731" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Peek next 16B (GUID), and check if the result is null.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '991', 991)" onmouseover="showTip(event, '991', 991)">
            ReadMemStream()
          </code>
          <div class="tip" id="991">
            <strong>Signature:</strong> unit -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L370-370" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '992', 992)" onmouseover="showTip(event, '992', 992)">
            SerializeFrom(obj)
          </code>
          <div class="tip" id="992">
            <strong>Signature:</strong> obj:&#39;U -&gt; unit<br />
                          <strong>Type parameters:</strong> 'U          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L786-786" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Serialize a particular object to bytestream, allow use of customizable serializer if one is installed. 
The customized serializer is of typeof<'U>.FullName, even the object passed in is of a derivative type.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '993', 993)" onmouseover="showTip(event, '993', 993)">
            SerializeFromWithTypeName(obj)
          </code>
          <div class="tip" id="993">
            <strong>Signature:</strong> obj:&#39;U -&gt; unit<br />
                          <strong>Type parameters:</strong> 'U          </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L772-772" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Serialize a particular object to bytestream, allow use of customizable serializer if one is installed. 
The customized serializer is of typeof<'U>.FullName, even the object passed in is of a derivative type.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '994', 994)" onmouseover="showTip(event, '994', 994)">
            SerializeObjectWithTypeName(obj)
          </code>
          <div class="tip" id="994">
            <strong>Signature:</strong> obj:Object -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L778-778" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Serialize a particular object to bytestream, allow use of customizable serializer if one is installed. 
The customized serializer is of name obj.GetType().FullName.</p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '995', 995)" onmouseover="showTip(event, '995', 995)">
            WriteMemStream(mem2)
          </code>
          <div class="tip" id="995">
            <strong>Signature:</strong> mem2:MemStream -&gt; MemStream<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L364-364" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          
        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '996', 996)" onmouseover="showTip(event, '996', 996)">
            WriteNull()
          </code>
          <div class="tip" id="996">
            <strong>Signature:</strong> unit -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/mem.fs#L741-741" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Write a Null Guid to bytestream</p>

        </td>
      </tr>
    </tbody>
  </table>

        </div>
        <div class="span3">
          <img src="/Prajna/img/logo.png" alt="Prajna" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Prajna</li>
            <li><a href="/Prajna/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Prajna">Get Library via NuGet</a></li>
            <li><a href="http://github.com/MSRCCS/Prajna">Source Code on GitHub</a></li>
            <li><a href="/Prajna/license.html">License</a></li>
            <li><a href="/Prajna/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Prajna/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Prajna/paper/Prajna_v1.pdf">Prajna Paper</a></li>
            <li><a href="/Prajna/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/MSRCCS/Prajna"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
