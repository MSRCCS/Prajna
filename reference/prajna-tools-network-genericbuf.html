<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>GenericBuf - Prajna</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content=""/>
    <meta name="author" content="Cloud Computing & Storage Group, Microsoft Research"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Prajna/content/style.css" />
    <script type="text/javascript" src="/Prajna/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/MSRCCS/Prajna">Prajna</a></li>
          <li><a href="http://github.com/MSRCCS/Prajna">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Prajna/index.html">Prajna</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          



<h1>GenericBuf</h1>
<div class="xmldoc">
<p>A class capable of reading/writing a buffer asynchronously using an underlying connection</p>
</div>
  <h3>Constructors</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Constructor</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '1082', 1082)" onmouseover="showTip(event, '1082', 1082)">
            new(conn, maxBufferSize)
          </code>
          <div class="tip" id="1082">
            <strong>Signature:</strong> (conn:IConn * maxBufferSize:int) -&gt; GenericBuf<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/basenetwork.fs#L259-259" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          
        </td>
      </tr>
    </tbody>
  </table>
  <h3>Instance members</h3>
  <table class="table table-bordered member-list">
    <thead>
      <tr><td>Instance member</td><td>Description</td></tr>
    </thead>
    <tbody>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '1083', 1083)" onmouseover="showTip(event, '1083', 1083)">
            AsyncRecvBuf(...)
          </code>
          <div class="tip" id="1083">
            <strong>Signature:</strong> (callback:(obj * byte [] * int * int -&gt; unit) * state:obj * bufferOffset:int * bufferSize:int) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/basenetwork.fs#L302-302" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Asynchronously receive a buffer and execute a callback when receive finishes
<param name="callback">
A callback which executes once receive completes
Callback takes in (state, buffer, offset size)=(obj, byte[], int, int) tuple
  state - arbitrary state specified by "state" parameter
  buffer - the buffer which contains the data retrieved
           the callback must copy the data or appropriately control bufferOffset 
           before starting another AsyncRecvBuf if needed as buffer is reused
  offset - the offfset in buffer where data has been written
  size - the amount of data which has been written to buffer
</param>
<param name="state">
The state to pass to the callback
</param>
<param name="bufferOffset">
The bufferOffset where data is to be written within internal buffer
</param>
<param name="bufferSize">
The length of data to be read
</param></p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '1084', 1084)" onmouseover="showTip(event, '1084', 1084)">
            AsyncRecvBufWithSize(...)
          </code>
          <div class="tip" id="1084">
            <strong>Signature:</strong> (callback:(obj * byte [] * int * int -&gt; unit) * state:obj * bufferOffset:int) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/basenetwork.fs#L335-335" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Asynchronously receive a buffer along with its size and execute callback when receive finishes
The length of the buffer is first read, then the buffer is read.
Receive fails and underlying connection is closed if buffer size is larger than maximum allowed.
<param name="callback">
A callback which executes once receive completes
Callback takes in (state, buffer, offset size)=(obj, byte[], int, int) tuple
  state - arbitrary state specified by "state" parameter
  buffer - the buffer which contains the data retrieved
           the callback must copy the data or appropriately control bufferOffset 
           before starting another AsyncRecvBuf if needed as buffer is reused
  offset - the offfset in buffer where data has been written
  size - the amount of data which has been written to buffer
</param>
<param name="state">
The state to pass to the callback
</param>
<param name="bufferOffset">
The bufferOffset where data is to be written within internal buffer
</param></p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '1085', 1085)" onmouseover="showTip(event, '1085', 1085)">
            AsyncSendBuf(...)
          </code>
          <div class="tip" id="1085">
            <strong>Signature:</strong> (callbackO:Option&lt;(obj -&gt; unit)&gt; * state:obj * buf:byte [] * bufferOffset:int * bufferSize:int) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/basenetwork.fs#L359-359" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Asynchronously send buffer and execute callback upon completion
<param name="callbackO">
Optional parameter to specify callback to execute
If specified callback takes in state, i.e. callback(state)
</param>
<param name="state">The state to pass into the callback</param>
<param name="buf">The buffer to send</param>
<param name="bufferOffset">The buffer offset in the buffer to send</param>
<param name="bufferSize">The amount of data to send starting at bufferOffset</param></p>

        </td>
      </tr>
      <tr>
        <td class="member-name">

          <code onmouseout="hideTip(event, '1086', 1086)" onmouseover="showTip(event, '1086', 1086)">
            AsyncSendBufWithSize(...)
          </code>
          <div class="tip" id="1086">
            <strong>Signature:</strong> (callbackO:Option&lt;(obj -&gt; unit)&gt; * state:obj * buf:byte [] * bufferOffset:int * bufferSize:int) -&gt; unit<br />
                      </div>
        </td>
        <td class="xmldoc">
            <a href="http://github.com/MSRCCS/Prajna/tree/master/src/tools/tools/basenetwork.fs#L401-401" class="github-link">
              <img src="../content/img/github.png" class="normal" />
              <img src="../content/img/github-blue.png" class="hover" />
            </a>
          <p>Asynchronously send buffer along with size of buffer and execute callback upon completion
The buffer size is sent first, followed by the buffer (so receiver does not need to know size a priori)
<param name="callbackO">
Optional parameter to specify callback to execute
If specified callback takes in state, i.e. callback(state)
</param>
<param name="state">The state to pass into the callback</param>
<param name="buf">The buffer to send</param>
<param name="bufferOffset">The buffer offset in the buffer to send</param>
<param name="bufferSize">The amount of data to send starting at bufferOffset</param></p>

        </td>
      </tr>
    </tbody>
  </table>

        </div>
        <div class="span3">
          <img src="/Prajna/img/logo.png" alt="Prajna" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Prajna</li>
            <li><a href="/Prajna/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Prajna">Get Library via NuGet</a></li>
            <li><a href="http://github.com/MSRCCS/Prajna">Source Code on GitHub</a></li>
            <li><a href="/Prajna/license.html">License</a></li>
            <li><a href="/Prajna/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Prajna/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Prajna/paper/Prajna_v1.pdf">Prajna Paper</a></li>
            <li><a href="/Prajna/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/MSRCCS/Prajna"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
